CREATE DATABASE APP_CONTACTOS;

USE APP_CONTACTOS;

CREATE TABLE USUARIO (
    ID INT AUTO_INCREMENT PRIMARY KEY,
    CORREO VARCHAR(255) UNIQUE NOT NULL,
    CONTRASENA VARCHAR(255) NOT NULL,
    NOMBRE VARCHAR(100) NOT NULL,
    CEDULA VARCHAR(50) UNIQUE NOT NULL,
    CONTACTO VARCHAR(20),
    ISVALID VARCHAR(1)
);

CREATE TABLE CONTACTO (
    ID INT AUTO_INCREMENT PRIMARY KEY,
    USUARIO_ID INT NOT NULL,
    NOMBRE VARCHAR(100) NOT NULL,
    TELEFONO VARCHAR(20) NOT NULL,
    CORREO VARCHAR(255),
    CEDULA VARCHAR(50) UNIQUE NOT NULL,
    ISVALID VARCHAR(1),
    FOREIGN KEY (USUARIO_ID) REFERENCES USUARIO(ID) ON DELETE CASCADE
);

USE APP_CONTACTOS;

INSERT INTO USUARIO (CORREO, CONTRASENA, NOMBRE, CEDULA, CONTACTO, ISVALID) VALUES
('juan.perez@email.com', 'hashedpassword1', 'Juan Perez', '1234567890', '3001234567', 'Y'),
('maria.gomez@email.com', 'hashedpassword2', 'Maria Gomez', '0987654321', '3109876543', 'Y'),
('carlos.lopez@email.com', 'hashedpassword3', 'Carlos Lopez', '1122334455', '3201122334', 'Y');

INSERT INTO CONTACTO (USUARIO_ID, NOMBRE, TELEFONO, CORREO, CEDULA, ISVALID) VALUES
(1, 'Ana Martinez', '3012345678', 'ana.martinez@email.com', '2233445566', 'Y'),
(1, 'Luis Rodriguez', '3123456789', 'luis.rodriguez@email.com', '3344556677', 'Y'),
(2, 'Sofia Ramirez', '3234567890', 'sofia.ramirez@email.com', '4455667788', 'Y'),
(3, 'Daniel Fernandez', '3345678901', 'daniel.fernandez@email.com', '5566778899', 'Y');
